(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["banner"],{2990:function(e,t,a){"use strict";a.r(t);var n=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{attrs:{id:"banner"}},[a("v-headpanel",[a("em",[e._v("banner更换")]),e._v(" 图片格式：jpg/png, 尺寸：首页轮播 1920*950,首页banner 1920x950,分页banner 1920x600,店铺图 960x600,大事记 1920宽 png,业务图1200x900,首页业务图 575x950 ")]),a("el-row",e._l(e.bannerlist,(function(t,n){return a("el-col",{key:t.id,style:n%4===0?"clear:both":"",attrs:{span:5,offset:n%4===0?0:1}},[a("el-card",{attrs:{"body-style":{padding:"0px"}}},[a("img",{staticClass:"image",attrs:{src:e.website+"/imgs/"+t.path+"/"+t.name}}),a("div",{staticClass:"buttonbar"},[a("span",{staticClass:"title"},[e._v(e._s(t.label))]),a("v-upload",{attrs:{name:t.name.split(".")[0],url:e.url,path:t.path,id:t.id},on:{upload:e.updateImg}})],1)])],1)})),1)],1)},i=[],s=(a("a434"),a("5530")),l=a("b3bc"),r=a("d443"),p=a("2f62"),c={data:function(){return{url:"banner",bannerlist:[]}},methods:{updateImg:function(e,t,a){var n=this.bannerlist[a-1],i=Object(s["a"])({},n,{name:e});this.bannerlist.splice(a-1,1,i)}},created:function(){var e=this;return this.get("bannerlist").then((function(t){e.bannerlist=t})).catch((function(t){e.$message({type:"warning",message:"获取列表失败!失败原因:"+t})}))},computed:Object(s["a"])({},Object(p["c"])(["website"])),components:{"v-headpanel":l["a"],"v-upload":r["a"]}},o=c,u=(a("e448"),a("2877")),d=Object(u["a"])(o,n,i,!1,null,null,null);t["default"]=d.exports},"6c29":function(e,t,a){"use strict";var n=a("bbb1"),i=a.n(n);i.a},bbb1:function(e,t,a){},d443:function(e,t,a){"use strict";var n=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"upload"},[e._t("default",[a("el-button",{attrs:{type:"danger",size:"small"}},[e._v(" 上传图片 ")])]),a("input",{ref:"inputFile",staticClass:"input-file",attrs:{type:"file",accept:e.uploadType},on:{change:function(t){return e.upload(t)}}}),a("span",{directives:[{name:"loading",rawName:"v-loading.fullscreen.lock",value:e.loading,expression:"loading",modifiers:{fullscreen:!0,lock:!0}}],attrs:{"element-loading-text":"插入中,请稍候","element-loading-background":"rgba(255, 255, 255, 0.3)"}})],2)},i=[],s=(a("b0c0"),a("d3b7"),{data:function(){return{loading:!1}},props:{uploadType:{type:String,default:"image/jpeg,image/jpg,image/png"},id:{type:String},table:{type:String},url:{type:String},path:{type:String},name:{type:String,default:""}},methods:{upload:function(e){var t=this,a=e.target.files[0];if(a){this.loading=!0;var n=new FormData;n.append("multfile",a),n.append("name",this.name),n.append("table",this.table),n.append("id",this.id),this.path&&n.append("path",this.path);var i=this.path||"";this.ajax(this.url,n).then((function(e){e?(t.$emit("upload",e,i,t.id),t.$message({type:"success",message:"上传成功！"}),t.clearFiles(),t.loading=!1):Promise.reject("上传失败")})).catch((function(e){console.log(e),e?t.$message({type:"error",message:e}):t.$message({type:"error",message:"上传失败"}),t.clearFiles(),t.loading=!1}))}},clearFiles:function(){this.$refs.inputFile.value=""}}}),l=s,r=(a("6c29"),a("2877")),p=Object(r["a"])(l,n,i,!1,null,null,null);t["a"]=p.exports},d8ed:function(e,t,a){},e448:function(e,t,a){"use strict";var n=a("d8ed"),i=a.n(n);i.a}}]);
//# sourceMappingURL=banner.713e5788.js.map